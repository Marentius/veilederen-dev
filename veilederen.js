(()=>{"use strict";var e="/";const t=e+"veilederen-dev/img/heroBig.webp",n=e+"veilederen-dev/img/veilederen.webp",o=e+"veilederen-dev/img/passnøkler.svg";!function(){const e={sideImageUrl:t,sideImageAlt:"Veilederen",hero:{titleHTML:'Det <span class="trygge">trygge</span> valget',subtitle:"Med tillit fra over 330 norske kommuner siden 2002."},footerLinks:[{text:"Tjenestevilkår",href:"https://www.veilederen.no/"},{text:"Personvern",href:"https://www.veilederen.no/"},{text:"Kontakt oss",href:"https://www.veilederen.no/"}]},r=(e,t=document)=>t.querySelector(e),i=(e,t=document)=>Array.from(t.querySelectorAll(e)),s=(e,t={})=>Object.assign(document.createElement(e),t),a=e=>{e&&(e.style.background="none",e.style.backgroundImage="none")};function l(){const e=r("#login-remember-user-text");e&&(e.innerHTML='Husk meg<p class="text-disabled"><small>Ikke anbefalt på offentlig eller delt datamaskin</small></p>')}function d(t){if(!t)return;let n=r(".footer-links",t);var o,i;n||(n=s("div",{className:"footer-links"}),t.appendChild(n)),i="footer-links--initialized",(o=n)&&i&&!o.classList.contains(i)&&(o.classList.add(i),1)&&e.footerLinks.forEach((t,o)=>{const r=s("a",{className:"footer-link",href:t.href});if(r.textContent=t.text,n.appendChild(r),o<e.footerLinks.length-1){const e=s("span",{className:"footer-link-separator"});e.textContent="  ",n.appendChild(e)}})}function c(){const e=r("#GoToRegister");if(!e||e.classList.contains("register-link-styled")){if(!e&&r('input[type="password"]')){const e=r(".form-box.form-box-login");e&&d(e)}return}e.textContent="Opprett bruker",e.classList.add("register-link-styled");const t=r(".horizontal-provider-buttons");if(!t)return;const n=s("div",{className:"register-link-container"}),o=s("span",{className:"register-text"});o.textContent="Har du ikke en konto? ",n.appendChild(o),n.appendChild(e);const i=s("a",{href:"https://www.veilederen.no/provebruker/",className:"register-link-styled provebruker-link",target:"_blank",rel:"noopener noreferrer"});i.textContent="Opprett prøvebruker",n.appendChild(i),t.parentNode.insertBefore(n,t.nextSibling),d(n)}function p(){const t=r(".form-footer.external-providers"),p=r("#GoToRegister"),m=r('input[type="password"]'),f=r(".form-box.form-box-login"),u=r("#page-login-index");(t||p||m||f||u)&&([document.documentElement,document.body,r("#page-login-index"),r(".body-content")].forEach(a),[".backstretch","#backstretch",".login__background",".cover-image"].forEach(e=>i(e).forEach(e=>e.remove())),function(){if(document.body.classList.contains("veilederen-split"))return;const t=r(".form-box.form-box-login")||r("#page-login-index .form-box");if(!t)return;let o=r(".main-container");o||(o=s("div",{className:"main-container"}),document.body.prepend(o));let i=r(".side-image",o);if(i||(i=s("div",{className:"side-image"}),o.prepend(i)),i.style.setProperty("--side-image",`url("${e.sideImageUrl}")`),i.setAttribute("aria-label",e.sideImageAlt||"Brand image"),!r(".hero-text",i)){const t=s("div",{className:"hero-text"});t.innerHTML=`\n        <h2 class="hero-title">${e.hero.titleHTML}</h2>\n        <p class="hero-subtitle">${e.hero.subtitle}</p>\n      `,i.appendChild(t)}let a=r(".inner-container",o);a||(a=s("div",{className:"inner-container"}),o.appendChild(a)),function(e){if(r(".logo-container",e))return;const t=s("div",{className:"logo-container"});t.innerHTML=`<img class="logo" src="${n}" alt="Veilederen">`,e.appendChild(t)}(a),a.contains(t)||a.appendChild(t),document.body.classList.add("veilederen-split")}(),t&&function(){if(r(".horizontal-provider-buttons"))return;const e=r(".form-footer.external-providers");if(!e)return;const t=i(".external-provider-but",e).filter(e=>{const t=(e.id||"").toLowerCase(),n=(e.textContent||"").toLowerCase(),o=t.includes("microsoft")||n.includes("microsoft"),r=t.includes("fido2")||n.includes("passnøkler")||n.includes("fido2");return o||r});if(t.some(e=>e.id?.toLowerCase().includes("fido2")||e.textContent?.toLowerCase().includes("passnøkler")||e.textContent?.toLowerCase().includes("fido2"))||t.push(function(){const e=s("a",{className:"external-provider-but external-provider-but-v2 provider-button-styled",id:"fido2-external-auth-button",href:"/fido2"}),t=s("img",{src:o,alt:"Passnøkler"}),n=s("span");return n.textContent="Passnøkler",e.append(t,n),e}()),0===t.length)return;const n=s("div",{className:"horizontal-provider-buttons"}),a=s("div",{className:"login-methods-title"}),l=s("div",{className:"title-line"}),d=s("span",{className:"title-text"});d.textContent="Andre innloggingsmetoder",a.append(l,d,l.cloneNode(!0));const c=s("div",{className:"provider-buttons-container"});t.forEach(e=>{if(e.classList.add("provider-button-styled"),(e.id||"").toLowerCase().includes("microsoft")){const t=r("span",e)||s("span");t.textContent="Microsoft",t.isConnected||e.appendChild(t)}c.appendChild(e)}),n.append(a,c),e.parentNode.insertBefore(n,e.nextSibling),e.style.display="none"}(),function(){const e=r(".form-group-rememberusername, .form-group-rememberme");if(!e||e.classList.contains("remember-me-moved"))return;const t=r(".form-group-login-username"),n=r(".form-group-login-button");t&&n&&(t.parentNode.insertBefore(e,n),e.classList.add("remember-me-moved")),l()}(),l(),requestAnimationFrame(()=>{if(c(),u&&!t){const e=r(".form-box.form-box-login");e&&d(e)}if(!r("#GoToRegister")&&r('input[type="password"]')){const e=r(".form-box.form-box-login");e&&d(e)}}))}function m(e){let t=!1;for(const n of e){if("childList"===n.type&&n.addedNodes.length>0)for(const e of n.addedNodes)if(1===e.nodeType&&(e.classList?.contains("form-box")||e.querySelector?.(".form-box")||e.classList?.contains("external-provider-but")||"page-login-index"===e.id)){t=!0;break}if(t)break}t&&(l(),requestAnimationFrame(()=>{c();const e=r("#page-login-index"),t=r(".form-footer.external-providers");if(e&&!t){const e=r(".form-box.form-box-login");e&&d(e)}if(!r("#GoToRegister")&&r('input[type="password"]')){const e=r(".form-box.form-box-login");e&&d(e)}}))}var f;f=()=>{p(),new MutationObserver(m).observe(document.body,{childList:!0,subtree:!0})},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",f,{once:!0}):f()}()})();